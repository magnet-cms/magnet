---
title: Configuration
description: Configure Magnet for your application
---

# Configuration

Learn how to configure Magnet for your specific needs.

## MagnetModule Options

The `MagnetModule.forRoot()` method accepts a configuration object:

```ts
import { Module } from '@nestjs/common'
import { MagnetModule } from '@magnet-cms/core'
import { MongooseAdapter } from '@magnet-cms/adapter-mongoose'

@Module({
  imports: [
    MagnetModule.forRoot({
      // Required: Database adapter
      adapter: new MongooseAdapter({
        uri: process.env.MONGODB_URI,
      }),

      // Optional: Schema classes to register
      schemas: [Post, Category, User],

      // Optional: Plugins to enable
      plugins: [],

      // Optional: Admin UI configuration
      admin: {
        enabled: true,
        basePath: '/admin',
      },

      // Optional: Authentication configuration
      auth: {
        enabled: true,
        jwtSecret: process.env.JWT_SECRET,
        jwtExpiresIn: '7d',
      },
    }),
  ],
})
export class AppModule {}
```

## Adapter Configuration

### Mongoose Adapter

```ts
import { MongooseAdapter } from '@magnet-cms/adapter-mongoose'

const adapter = new MongooseAdapter({
  // MongoDB connection URI
  uri: 'mongodb://localhost:27017/magnet',

  // Optional: Connection options
  options: {
    maxPoolSize: 10,
    serverSelectionTimeoutMS: 5000,
  },
})
```

## Environment Variables

Recommended environment variables:

```bash
# Database
MONGODB_URI=mongodb://localhost:27017/magnet

# Authentication
JWT_SECRET=your-secret-key
JWT_EXPIRES_IN=7d

# Server
PORT=3000
NODE_ENV=development
```

## Admin UI Configuration

```ts
MagnetModule.forRoot({
  admin: {
    // Enable/disable admin UI
    enabled: true,

    // Base path for admin routes
    basePath: '/admin',

    // Custom branding
    branding: {
      name: 'My CMS',
      logo: '/logo.png',
    },
  },
})
```

## Authentication Configuration

```ts
MagnetModule.forRoot({
  auth: {
    // Enable/disable authentication
    enabled: true,

    // JWT configuration
    jwtSecret: process.env.JWT_SECRET,
    jwtExpiresIn: '7d',

    // Cookie configuration
    cookie: {
      name: 'magnet_token',
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
    },
  },
})
```

## Plugin Configuration

```ts
import { ContentBuilderPlugin } from '@magnet-cms/plugin-content-builder'
import { SeoPlugin } from '@magnet-cms/plugin-seo'

MagnetModule.forRoot({
  plugins: [
    new ContentBuilderPlugin({
      // Plugin-specific options
    }),
    new SeoPlugin({
      defaultTitle: 'My Site',
      titleTemplate: '%s | My Site',
    }),
  ],
})
```

## Next Steps

- [Core Module](/docs/core) - Deep dive into core functionality
- [Authentication](/docs/core/auth) - Learn about auth system
- [Plugins](/docs/plugins) - Explore available plugins
