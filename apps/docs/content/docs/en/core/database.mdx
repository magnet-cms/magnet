---
title: Database Module
description: Database abstraction layer for adapters
---

# Database Module

The Database module provides an abstraction layer for database operations, allowing different database adapters to be used interchangeably.

## Adapter Interface

All database adapters must implement the `DatabaseAdapter` interface:

```ts
interface DatabaseAdapter {
  connect(): Promise<void>
  disconnect(): Promise<void>
  getModel(name: string): any
  createModel(name: string, schema: any): any
  findOne(model: string, id: string): Promise<any>
  findAll(model: string, query?: QueryOptions): Promise<any[]>
  create(model: string, data: any): Promise<any>
  update(model: string, id: string, data: any): Promise<any>
  delete(model: string, id: string): Promise<boolean>
}
```

## Using an Adapter

```ts
import { MagnetModule } from '@magnet/core'
import { MongooseAdapter } from '@magnet/adapter-mongoose'

MagnetModule.forRoot({
  adapter: new MongooseAdapter({
    uri: process.env.MONGODB_URI,
  }),
})
```

## Available Adapters

| Adapter | Package | Description |
|---------|---------|-------------|
| Mongoose | `@magnet/adapter-mongoose` | MongoDB via Mongoose ODM |

## Creating Custom Adapters

To create a custom adapter, implement the `DatabaseAdapter` interface:

```ts
import { DatabaseAdapter } from '@magnet/core'

export class CustomAdapter implements DatabaseAdapter {
  async connect() {
    // Connection logic
  }

  async disconnect() {
    // Disconnection logic
  }

  // Implement other methods...
}
```

See [Adapters](/docs/adapters) for more details on available and custom adapters.
